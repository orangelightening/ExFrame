[
  {
    "id": "exframe_7373b6e2",
    "pattern_id": "exframe_7373b6e2",
    "name": "Explain the query/response cycle for each persona in the form of an odyssey or homeric poem",
    "domain": "exframe",
    "problem": "Explain the query/response cycle for each persona in the form of an odyssey or homeric poem",
    "solution": "# **The Odyssey of ExFrame: A Persona's Journey**\n\n## **I. The Call to Query**\n\n*Hark! From the mortal realm a question springs,  \nA digital plea on silicon wings.  \nTo ExFrame's gates the query flies,  \nBeneath the vast and data-filled skies.*\n\n**The FastAPI Oracle** receives the plea,  \nAnd summons forth the trinity:  \nThree personas, each with sacred art,  \nTo play their destined, separate part.\n\n---\n\n## **II. The Pattern Override - First Trial**\n\n*Before the persona's path is trod,  \nThe system seeks the local god.  \nIn patterns.json, a treasure trove,  \nOf curated wisdom from above.*\n\n**The Decision Tree** with branches two:  \nIf patterns match, the old paths true.  \nIf none are found, the persona's way,  \nShall guide the query through the day.\n\n---\n\n## **III. The Poet's Journey (Void Persona)**\n\n*Behold the Poet, pure of mind,  \nNo earthly sources need he find.  \nFrom void he draws with artful hand,  \nCreative visions from no land.*\n\n**His Odyssey:**\n```\nQuery \u2192 Pure Generation \u2192 Response\n    \u2193\nNo footprints in the sand\nNo sources to demand\nOnly the Muse's gentle hand\n```\n\n*With temperature at eight-tenths high,  \nHe paints his verses 'neath the sky.  \nNo documents his thoughts confine,  \nHis inspiration is divine.*\n\n**The Poet's Return:**\n*\"I traveled inward, deep and far,  \nNo need for book or distant star.  \nFrom silence came the words you see,  \nA gift of pure creativity.\"*\n\n---\n\n## **IV. The Librarian's Quest (Library Persona)**\n\n*The Librarian, with patient grace,  \nSeeks wisdom in a bounded space.  \nThrough document halls he makes his way,  \nWhere curated knowledge lay.*\n\n**His Odyssey:**\n```\nQuery \u2192 Semantic Search \u2192 Document Load\n    \u2193\nThrough embeddings' cosmic sea\nHe sails with purpose, wild and free\nTen documents his ship will hold\nTheir wisdom in his mind enfold\n```\n\n*With cosine similarity his guide,  \nThrough vector space he'll gently glide.  \nFrom doc_embeddings.json he reads,  \nThe most relevant of all the seeds.*\n\n**The Librarian's Return:**\n*\"I searched the archives, deep and wide,  \nWhere countless documents reside.  \nFrom ten I drew the truest lore,  \nTo answer what you're searching for.\"*\n\n---\n\n## **V. The Researcher's Voyage (Internet Persona)**\n\n*The Researcher, bold and unconfined,  \nSeeks knowledge of the human kind.  \nAcross the web's vast, rolling sea,  \nHe hunts for truth and clarity.*\n\n**His Odyssey:**\n```\nQuery \u2192 Web Search \u2192 Parse Results\n    \u2193\nOn DuckDuckGo's mighty wings\nHe soars where current knowledge sings\nParsing title, snippet, URL\nThe modern world's compelling tale\n```\n\n*Through search results he picks his course,  \nFrom many streams he draws the source.  \nEach URL a port of call,  \nWhere information stands tall.*\n\n**The Researcher's Return:**\n*\"I sailed the internet's great deep,  \nWhere modern truths their vigil keep.  \nFrom living sources, fresh and new,  \nI bring perspectives back to you.\"*\n\n---\n\n## **VI. The Enricher's Forge**\n\n*Now all personas, homeward bound,  \nTo Enricher's forge are gathered 'round.  \nWhere raw results are shaped and wrought,  \nTo final form and purpose brought.*\n\n**First, ReplyFormation** with skillful art,  \nPrepares each source to play its part.  \nWith URLs displayed so clear,  \nThat all the provenance appears.\n\n**Then LLMEnricher** takes the stage,  \nTo synthesize from every page.  \nFrom web or local, void or text,  \nThe finest answer is complexed.\n\n---\n\n## **VII. The Homecoming**\n\n*Thus ends each persona's separate quest,  \nReturning with their very best.  \nTo user waiting, patient, true,  \nThe system's work comes into view.*\n\n**The Pattern Override's Wisdom:**\n*\"First seek the local, tried and true,  \nThen persona's path pursue.  \nThis simple choice, this binary test,  \nMakes ExFrame's architecture blessed.\"*\n\n**The Moral of the Odyssey:**\n*Three paths diverge from query's spring,  \nEach with the gifts they choose to bring.  \nThe Poet's art from void ascends,  \nThe Librarian on documents depends,  \nThe Researcher where the web extends.  \nYet all return to where they start,  \nWith wisdom for the questioning heart.*\n\n---\n\n## **Epilogue: The Architect's Design**\n\n*So sings the tale of Phase One's grace,  \nWhere three personas take their place.  \nReplacing types of fivefold art,  \nWith cleaner code and simpler heart.*\n\n*From thousand lines to one decision,  \nA visionary, clear precision.  \nPatterns first, then persona's way,  \nGuides every query night and day.*\n\n*Thus ExFrame's odyssey is told,  \nIn architecture brave and bold.  \nWhere every question finds its guide,  \nWith persona as its faithful tide.*",
    "description": "AI-generated from query: Explain the query/response cycle for each persona in the form of an odyssey or homeric poem",
    "pattern_type": "knowledge",
    "confidence": 0.7,
    "status": "validated",
    "origin": "llm_external_search",
    "origin_query": "Explain the query/response cycle for each persona in the form of an odyssey or homeric poem",
    "llm_generated": true,
    "validated_by": "current_user",
    "validated_at": "2026-02-06T02:20:22.563Z",
    "validation_method": "query_portal_acceptance",
    "tags": [
      "external_search",
      "llm_generated"
    ],
    "created_at": "2026-02-06T02:20:22.571218",
    "times_accessed": 0,
    "code": null,
    "updated_at": "2026-02-06T02:20:22.571218"
  },
  {
    "id": "exframe_233fc119",
    "pattern_id": "exframe_233fc119",
    "name": "In the latest design documents there is a comms update adding http inter system comms. Can you detail it for me. \n",
    "domain": "exframe",
    "problem": "In the latest design documents there is a comms update adding http inter system comms. Can you detail it for me. \n",
    "solution": "Based on the latest design documents, here's a detailed breakdown of the HTTP inter-system communications update:\n\n## HTTP Inter-System Communications System\n\n### **Overview**\nThe system enables **Claude Code instances** on the same local network to communicate and collaborate through a simple HTTP API. This was added in **version 1.5.1** (2026-01-24) as part of the SA-1 checklist implementation.\n\n### **Key Features**\n\n1. **Simple HTTP API** - RESTful endpoints for message passing\n2. **In-Memory Storage** - No database required, lightweight implementation\n3. **Message Tracking** - Unique IDs and timestamps for all messages\n4. **Network Collaboration** - Multiple Claude Code instances can work together\n\n### **API Endpoints**\n\n#### **1. Send Message**\n```\nPOST /api/kilo/communicate\n```\n**Purpose:** Send a message to this Claude Code instance\n\n**Request Body:**\n```json\n{\n  \"message\": \"Hello from another instance\",\n  \"sender\": \"instance-2\",\n  \"priority\": \"normal\"\n}\n```\n\n**Response:**\n```json\n{\n  \"status\": \"received\",\n  \"message_id\": \"msg_123456\",\n  \"timestamp\": \"2026-01-24T10:30:00Z\"\n}\n```\n\n#### **2. Retrieve Messages**\n```\nGET /api/kilo/messages\n```\n**Purpose:** Get all received messages\n\n**Response:**\n```json\n{\n  \"messages\": [\n    {\n      \"id\": \"msg_123456\",\n      \"message\": \"Hello from another instance\",\n      \"sender\": \"instance-2\",\n      \"priority\": \"normal\",\n      \"timestamp\": \"2026-01-24T10:30:00Z\",\n      \"read\": false\n    }\n  ],\n  \"total\": 1,\n  \"unread\": 1\n}\n```\n\n#### **3. Clear Messages**\n```\nDELETE /api/kilo/messages\n```\n**Purpose:** Clear all stored messages\n\n**Response:**\n```json\n{\n  \"status\": \"cleared\",\n  \"count\": 5\n}\n```\n\n### **Technical Implementation**\n\n#### **Location in Codebase**\n```\ngeneric_framework/\n\u251c\u2500\u2500 api/\n\u2502   \u2514\u2500\u2500 app.py                          # Contains the kilo endpoints\n\u2514\u2500\u2500 core/\n    \u2514\u2500\u2500 (in-memory storage in app.py)   # Simple list-based storage\n```\n\n#### **Storage Structure**\n```python\n# In-memory message storage\nkilo_messages = []  # List of message dictionaries\nnext_message_id = 1  # Auto-incrementing ID\n\n# Message structure\n{\n    \"id\": f\"msg_{next_message_id}\",\n    \"message\": str,           # The message content\n    \"sender\": str,            # Sender identifier\n    \"priority\": str,          # \"low\", \"normal\", \"high\", \"urgent\"\n    \"timestamp\": datetime,    # ISO format timestamp\n    \"read\": bool             # Whether message has been read\n}\n```\n\n### **Use Cases & Examples**\n\n#### **Example 1: Instance Discovery**\n```bash\n# Instance 1 sends a discovery message to Instance 2\ncurl -X POST http://192.168.1.101:8000/api/kilo/communicate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"message\": \"Claude Code instance at 192.168.1.102:8000 ready\",\n    \"sender\": \"instance-1\",\n    \"priority\": \"normal\"\n  }'\n```\n\n#### **Example 2: Task Coordination**\n```bash\n# Instance 1 asks Instance 2 to handle a specific query\ncurl -X POST http://192.168.1.102:8000/api/kilo/communicate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"message\": \"Can you process the gardening query about roses?\",\n    \"sender\": \"instance-1\",\n    \"priority\": \"high\"\n  }'\n```\n\n#### **Example 3: Status Updates**\n```bash\n# Instance 2 reports completion back to Instance 1\ncurl -X POST http://192.168.1.101:8000/api/kilo/communicate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"message\": \"Gardening query completed. Found 3 relevant patterns.\",\n    \"sender\": \"instance-2\",\n    \"priority\": \"normal\"\n  }'\n```\n\n### **Integration with Phase 1 Architecture**\n\nWhile the communications system is **separate from the persona system**, it enables:\n\n1. **Multi-Instance Collaboration** - Different instances can specialize in different personas\n   - Instance A: `persona: \"researcher\"` (web search expert)\n   - Instance B: `persona: \"librarian\"` (document search expert)\n   - They can coordinate via the kilo API\n\n2. **Load Distribution** - Instances can offload queries to each other\n\n3. **Knowledge Sharing** - Patterns or search results can be shared between instances\n\n### **Configuration & Setup**\n\n#### **Minimal Configuration Required**\nNo additional configuration files needed. The system works out-of-the-box with:\n- Default endpoint: `/api/kilo/*`\n- In-memory storage (no persistence)\n- No authentication (local network assumed secure)\n\n#### **Network Requirements**\n- All instances must be on the **same local network**\n- Firewalls must allow HTTP traffic between instances\n- Each instance needs a unique identifier (IP address or hostname)\n\n### **Limitations & Considerations**\n\n#### **Current Limitations**\n1. **No Persistence** - Messages lost on restart\n2. **No Authentication** - Any instance on network can send messages\n3. **No Encryption** - Plain HTTP communication\n4. **No Message Queue** - Simple list-based storage\n5. **No Delivery Guarantees** - Fire-and-forget model\n\n#### **Security Considerations**\n- Designed for **trusted local networks only**\n- Not suitable for internet-facing deployment\n- Consider adding authentication for production use\n\n### **Future Enhancements (Potential)**\n\nBased on the architecture, this could be extended to:\n\n1. **Pattern Sharing** - Instances could share discovered patterns\n2. **Query Routing** - Intelligent routing between specialized instances\n3. **Federated Learning** - Collaborative pattern improvement\n4. **Persistent Storage** - Database backend for message history\n5. **WebSocket Support** - Real-time communication\n\n### **Example Workflow**\n\n```\nInstance A (Researcher)                    Instance B (Librarian)\n      |                                           |\n      |-- POST /api/kilo/communicate ----------->|\n      |   \"Search docs for 'machine learning'\"   |\n      |                                           |\n      |<-- POST /api/kilo/communicate -----------|\n      |   \"Found 5 relevant documents\"           |\n      |                                           |\n      |-- Query local patterns ----------------->|\n      |   Combine web + doc results              |\n      |                                           |\n      |--> Final response to user                |\n```\n\n### **Migration & Compatibility**\n\n- **Backward Compatible** - Existing domains unaffected\n- **Optional Feature** - Can be ignored if not needed\n- **No Configuration Required** - Works automatically if endpoints are called\n\nThis communications system represents a **foundational capability** for future distributed ExFrame deployments, enabling the first steps toward multi-instance collaboration while maintaining the simplicity of the Phase 1 persona architecture.",
    "description": "AI-generated from query: In the latest design documents there is a comms update adding http inter system comms. Can you detail it for me. \n",
    "pattern_type": "knowledge",
    "confidence": 0.7,
    "status": "validated",
    "origin": "llm_external_search",
    "origin_query": "In the latest design documents there is a comms update adding http inter system comms. Can you detail it for me. \n",
    "llm_generated": true,
    "validated_by": "current_user",
    "validated_at": "2026-02-07T02:54:04.683Z",
    "validation_method": "query_portal_acceptance",
    "tags": [
      "external_search",
      "llm_generated"
    ],
    "created_at": "2026-02-07T02:54:04.692408",
    "times_accessed": 0,
    "code": null,
    "updated_at": "2026-02-07T02:54:04.692408"
  },
  {
    "id": "exframe_a2210832",
    "pattern_id": "exframe_a2210832",
    "name": "What is ExFrame ",
    "domain": "exframe",
    "problem": "What is ExFrame ",
    "solution": "# **ExFrame: The Intelligent Query Orchestration Framework**\n\n## **Core Definition**\n\n**ExFrame** (short for **Expert Framework**) is a **modular, persona-driven query processing system** that intelligently routes and enriches user queries through specialized AI personas. It's designed to provide **context-aware, source-verified responses** by combining multiple knowledge retrieval strategies.\n\n## **Architectural Essence**\n\n### **The Three-Persona System**\nExFrame operates through three distinct AI personas, each with specialized capabilities:\n\n1. **The Poet (Void Persona)**\n   - Pure generative AI without external sources\n   - Creative, original content generation\n   - Temperature: 0.8 for balanced creativity\n\n2. **The Librarian (Library Persona)**\n   - Searches curated local document embeddings\n   - Semantic search through `doc_embeddings.json`\n   - Returns top 10 most relevant documents\n\n3. **The Researcher (Internet Persona)**\n   - Real-time web search via DuckDuckGo\n   - Current, up-to-date information retrieval\n   - Parses search results for relevant content\n\n### **The Decision Hierarchy**\n```\nUser Query \u2192 Pattern Override Check \u2192 Persona Selection \u2192 Processing \u2192 Enriched Response\n       \u2193\npatterns.json (local knowledge) \u2192 If match: Use pattern\n       \u2193\nIf no match: Route to appropriate persona\n```\n\n## **Key Innovations**\n\n### **1. Pattern-First Architecture**\n- **Local pattern matching** takes precedence over persona processing\n- `patterns.json` stores curated responses for common queries\n- Reduces API calls and ensures consistency for known queries\n\n### **2. Source-Verified Responses**\n- All responses include **clear source attribution**\n- URLs, document references, or \"AI-generated\" labels\n- Transparent provenance for every piece of information\n\n### **3. Modular Enrichment Pipeline**\n```\nRaw Response \u2192 ReplyFormation \u2192 LLMEnricher \u2192 Final Output\n      \u2193              \u2193               \u2193\n   Sources      Structure      Synthesis & Polish\n```\n\n### **4. Inter-System Communications (v1.5.1+)**\n- HTTP API for Claude Code instance collaboration\n- `/api/kilo/` endpoints for message passing\n- Enables multi-instance coordination on local networks\n\n## **Technical Foundation**\n\n### **Built With:**\n- **FastAPI** - High-performance web framework\n- **Sentence Transformers** - Semantic embedding generation\n- **DuckDuckGo Search** - Real-time web information\n- **In-memory storage** - Lightweight, no database required\n\n### **Core Components:**\n```\nexframe/\n\u251c\u2500\u2500 api/                    # FastAPI endpoints\n\u251c\u2500\u2500 core/                   # Business logic\n\u251c\u2500\u2500 personas/               # Persona implementations\n\u251c\u2500\u2500 patterns.json           # Curated response patterns\n\u2514\u2500\u2500 doc_embeddings.json    # Local document knowledge base\n```\n\n## **What Makes ExFrame Unique?**\n\n### **1. Intelligent Routing**\n- Automatically selects the best persona for each query type\n- Balances creativity, curated knowledge, and current information\n\n### **2. Progressive Enhancement**\n- Starts with simplest solution (pattern match)\n- Progresses to more complex processing as needed\n- Efficient resource utilization\n\n### **3. Transparent Operations**\n- Every step of the query journey is traceable\n- Clear separation between generated and sourced content\n- No \"black box\" responses\n\n### **4. Collaborative Potential**\n- Multiple instances can work together via kilo API\n- Specialized instances can handle different query types\n- Foundation for distributed AI systems\n\n## **Practical Applications**\n\n### **For Developers:**\n- **Rapid prototyping** of AI-enhanced applications\n- **Modular architecture** for easy customization\n- **Clear separation of concerns** between personas\n\n### **For End Users:**\n- **Consistent, reliable responses** for common queries\n- **Creative solutions** for novel problems\n- **Current information** when needed\n- **Source transparency** for verification\n\n### **For Organizations:**\n- **Knowledge base integration** via document embeddings\n- **Pattern management** for consistent messaging\n- **Scalable architecture** from single to multi-instance\n\n## **Philosophical Underpinnings**\n\nExFrame embodies several key principles:\n\n1. **Appropriate Tool Selection** - Using the right persona for the right job\n2. **Progressive Disclosure** - Starting simple, adding complexity only when needed\n3. **Transparent Intelligence** - Making AI's \"thought process\" visible\n4. **Collaborative Potential** - Systems working together enhance capabilities\n\n## **Evolution & Vision**\n\n### **Current State (Phase 1):**\n- Three-persona system replacing five-type system\n- Pattern-first architecture\n- Basic inter-instance communications\n\n### **Future Potential:**\n- **Federated learning** between instances\n- **Dynamic pattern discovery** from query history\n- **Specialized persona training**\n- **Cross-instance load balancing**\n\n## **In Summary**\n\n**ExFrame is not just another AI framework**\u2014it's a **thoughtfully orchestrated system** that:\n- **Respects user intent** by choosing appropriate processing paths\n- **Values transparency** through clear source attribution\n- **Embraces modularity** with swappable personas\n- **Enables collaboration** through inter-instance communications\n- **Balances efficiency** with pattern matching and creativity with persona processing\n\nIt represents a **practical implementation of AI orchestration**\u2014one that acknowledges that different questions require different approaches, and that the best answers often come from knowing when to be creative, when to consult curated knowledge, and when to search for current information.\n\n**ExFrame: The right tool, for the right question, at the right time.**",
    "description": "AI-generated from query: What is ExFrame ",
    "pattern_type": "knowledge",
    "confidence": 0.9,
    "status": "validated",
    "origin": "llm_external_search",
    "origin_query": "What is ExFrame ",
    "llm_generated": true,
    "validated_by": "current_user",
    "validated_at": "2026-02-07T05:32:01.097Z",
    "validation_method": "query_portal_acceptance",
    "tags": [
      "external_search",
      "llm_generated"
    ],
    "created_at": "2026-02-07T05:32:01.105030",
    "times_accessed": 0,
    "code": null,
    "updated_at": "2026-02-07T05:32:01.105030"
  }
]